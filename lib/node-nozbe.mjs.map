{"version":3,"file":"node-nozbe.mjs","sources":["../src/config.js","../src/index.js"],"sourcesContent":["const apiUrl = 'https://api.nozbe.com:3000';\n\nexports = module.exports = {\n  REGISTER_APP: `${apiUrl}/oauth/secret/create`,\n  LIST: `${apiUrl}/list`,\n  TASK: `${apiUrl}/task`,\n};\n","const axios = require('axios');\nconst qs = require('querystring');\n\nconst config = require('./config');\n\nconst registerApp = (email, password, redirectUri) => axios.post(\n  config.REGISTER_APP,\n  qs.stringify({\n    email,\n    password,\n    redirect_uri: redirectUri,\n  }),\n);\n\nconst getListOfTasks = (clientId, accessToken) => axios({\n  method: 'GET',\n  url: config.LIST,\n  headers: {\n    Authorization: accessToken,\n  },\n  data: qs.stringify({\n    client_id: clientId,\n    type: 'task',\n  }),\n});\n\nconst addTask = (clientId, accessToken, task) => {\n  const {\n    name,\n    recur,\n  } = task;\n\n  return axios({\n    method: 'POST',\n    url: config.TASK,\n    headers: {\n      Authorization: accessToken,\n    },\n    data: qs.stringify({\n      client_id: clientId,\n      name,\n      recur: recur || 0,\n      comment_unread: false,\n    }),\n  });\n};\n\n// addTask('a318a88a3d1856eb2402a83f38edf1a6b6622b1d', 'df387f4fa5c6b1c4e24d20996ed78dc5', {\n//   name: 'xDxDxD',\n//   // recur: 1,\n// })\n//   .then(res => console.log(res))\n//   .catch(err => console.log(err.response.data));\n\nexports.registerApp = module.exports.registerApp = registerApp;\nexports.getListOfTasks = module.exports.getListOfTasks = getListOfTasks;\nexports.addTask = module.exports.addTask = addTask;\n"],"names":["qs"],"mappings":";;;;;;;;AAAA,MAAM,MAAM,GAAG,4BAA4B,CAAC;;AAE5C,OAAO,GAAG,cAAc,GAAG;EACzB,YAAY,EAAE,CAAC,EAAE,MAAM,CAAC,oBAAoB,CAAC;EAC7C,IAAI,EAAE,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC;EACtB,IAAI,EAAE,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC;CACvB,CAAC;;;;;;;ACDF,MAAM,WAAW,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,WAAW,KAAK,KAAK,CAAC,IAAI;EAC9D,MAAM,CAAC,YAAY;EACnBA,WAAE,CAAC,SAAS,CAAC;IACX,KAAK;IACL,QAAQ;IACR,YAAY,EAAE,WAAW;GAC1B,CAAC;CACH,CAAC;;AAEF,MAAM,cAAc,GAAG,CAAC,QAAQ,EAAE,WAAW,KAAK,KAAK,CAAC;EACtD,MAAM,EAAE,KAAK;EACb,GAAG,EAAE,MAAM,CAAC,IAAI;EAChB,OAAO,EAAE;IACP,aAAa,EAAE,WAAW;GAC3B;EACD,IAAI,EAAEA,WAAE,CAAC,SAAS,CAAC;IACjB,SAAS,EAAE,QAAQ;IACnB,IAAI,EAAE,MAAM;GACb,CAAC;CACH,CAAC,CAAC;;AAEH,MAAM,OAAO,GAAG,CAAC,QAAQ,EAAE,WAAW,EAAE,IAAI,KAAK;EAC/C,MAAM;IACJ,IAAI;IACJ,KAAK;GACN,GAAG,IAAI,CAAC;;EAET,OAAO,KAAK,CAAC;IACX,MAAM,EAAE,MAAM;IACd,GAAG,EAAE,MAAM,CAAC,IAAI;IAChB,OAAO,EAAE;MACP,aAAa,EAAE,WAAW;KAC3B;IACD,IAAI,EAAEA,WAAE,CAAC,SAAS,CAAC;MACjB,SAAS,EAAE,QAAQ;MACnB,IAAI;MACJ,KAAK,EAAE,KAAK,IAAI,CAAC;MACjB,cAAc,EAAE,KAAK;KACtB,CAAC;GACH,CAAC,CAAC;CACJ,CAAC;;;;;;;;;AASF,mBAAmB,GAAG,0BAA0B,GAAG,WAAW,CAAC;AAC/D,sBAAsB,GAAG,6BAA6B,GAAG,cAAc,CAAC;AACxE,eAAe,GAAG,sBAAsB,GAAG,OAAO,CAAC;;;;;;;;;"}