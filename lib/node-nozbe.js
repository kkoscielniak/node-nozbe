!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("axios"),require("querystring")):"function"==typeof define&&define.amd?define(["exports","axios","querystring"],e):e(t["all-log"]={},t.axios,t.qs)}(this,function(t,e,r){"use strict";function a(t,e){return t(e={exports:{}},e.exports),e.exports}e=e&&e.hasOwnProperty("default")?e.default:e,r=r&&r.hasOwnProperty("default")?r.default:r;var i=a(function(t,e){const r="https://api.nozbe.com:3000";t.exports={REGISTER_APP:`${r}/oauth/secret/create`,OAUTH_CLIENT_DATA:`${r}/oauth/secret/data`,LOGIN:`${r}/login`,LIST:`${r}/list`,TASK:`${r}/task`,COMMENT:`${r}/task/comment`}}),s=(i.REGISTER_APP,i.OAUTH_CLIENT_DATA,i.LOGIN,i.LIST,i.TASK,i.COMMENT,{registerApp:async(t,a,s)=>{try{return(await e({method:"POST",url:i.REGISTER_APP,data:r.stringify({email:t,password:a,redirect_uri:s})})).data}catch(t){return t.response.data}},getOAuthClientData:async(t,a)=>{try{return(await e({method:"GET",url:i.OAUTH_CLIENT_DATA,data:r.stringify({email:t,password:a})})).data}catch(t){return t.response.data}},getOAuthLoginURL:t=>{if(!t)throw new Error("No clientId provided");return`${i.LOGIN}/?client_id=${t}`},updateOAuthRedirectUri:async(t,a,s)=>{try{return(await e({method:"PUT",url:`${i.OAUTH_CLIENT_DATA}?client_id=${t}&secret_token=${a}`,data:r.stringify({redirect_uri:s})})).data}catch(t){return t.response.data}}}),n=(t,a)=>e({method:"GET",url:i.LIST,headers:{Authorization:a},data:r.stringify({client_id:t,type:"task"})}),d=async(t,a,s)=>{const{name:n,projectId:d,completed:o,contexts:u,dateTime:c,next:p,user:A,recur:h,time:T}=s;try{return(await e({method:"POST",url:i.TASK,headers:{Authorization:a},data:r.stringify({client_id:t,name:n,project_id:d||!1,completed:o||!1,con_list:u||!1,datetime:c||!1,next:p||!1,re_user:A||!1,recur:h||0,time:T||0,comment_unread:!1})})).data}catch(t){return t.response.data}},o=async(t,a,s)=>{const{taskId:n,type:d,body:o}=s;try{return(await e({method:"POST",url:i.COMMENT,headers:{Authorization:a},data:r.stringify({client_id:t,task_id:n,type:d||"markdown",body:o})})).data}catch(t){return t.response.data}},u=a(function(t,e){e.registerApp=t.exports.registerApp=s.registerApp,e.getOAuthClientData=t.exports.getOAuthClientData=s.getOAuthClientData,e.getOAuthAccessToken=t.exports.getOAuthAccessToken=s.getOAuthAccessToken,e.getOAuthLoginURL=t.exports.getOAuthLoginURL=s.getOAuthLoginURL,e.updateOAuthRedirectUri=t.exports.updateOAuthRedirectUri=s.updateOAuthRedirectUri,e.getListOfTasks=t.exports.getListOfTasks=n,e.addTask=t.exports.addTask=d,e.addComment=t.exports.addComment=o}),c=u.registerApp,p=u.getOAuthClientData,A=u.getOAuthAccessToken,h=u.getOAuthLoginURL,T=u.updateOAuthRedirectUri,g=u.getListOfTasks,O=u.addTask,l=u.addComment;t.default=u,t.registerApp=c,t.getOAuthClientData=p,t.getOAuthAccessToken=A,t.getOAuthLoginURL=h,t.updateOAuthRedirectUri=T,t.getListOfTasks=g,t.addTask=O,t.addComment=l,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=node-nozbe.js.map
