{"version":3,"file":"node-nozbe.js","sources":["../src/config.js","../src/index.js"],"sourcesContent":["const apiUrl = 'https://api.nozbe.com:3000';\n\nexports = module.exports = {\n  REGISTER_APP: `${apiUrl}/oauth/secret/create`,\n  LIST: `${apiUrl}/list`,\n  TASK: `${apiUrl}/task`,\n};\n","const axios = require('axios');\nconst qs = require('querystring');\n\nconst config = require('./config');\n\nconst registerApp = (email, password, redirectUri) => axios.post(\n  config.REGISTER_APP,\n  qs.stringify({\n    email,\n    password,\n    redirect_uri: redirectUri,\n  }),\n);\n\nconst getListOfTasks = (clientId, accessToken) => axios({\n  method: 'GET',\n  url: config.LIST,\n  headers: {\n    Authorization: accessToken,\n  },\n  data: qs.stringify({\n    client_id: clientId,\n    type: 'task',\n  }),\n});\n\nconst addTask = (clientId, accessToken, task) => {\n  const {\n    name,\n    recur,\n  } = task;\n\n  return axios({\n    method: 'POST',\n    url: config.TASK,\n    headers: {\n      Authorization: accessToken,\n    },\n    data: qs.stringify({\n      client_id: clientId,\n      name,\n      recur: recur || 0,\n      comment_unread: false,\n    }),\n  });\n};\n\n// addTask('a318a88a3d1856eb2402a83f38edf1a6b6622b1d', 'df387f4fa5c6b1c4e24d20996ed78dc5', {\n//   name: 'xDxDxD',\n//   // recur: 1,\n// })\n//   .then(res => console.log(res))\n//   .catch(err => console.log(err.response.data));\n\nexports.registerApp = module.exports.registerApp = registerApp;\nexports.getListOfTasks = module.exports.getListOfTasks = getListOfTasks;\nexports.addTask = module.exports.addTask = addTask;\n"],"names":["qs"],"mappings":";;;;;;;;;;;;;;CAAA,MAAM,MAAM,GAAG,4BAA4B,CAAC;;CAE5C,OAAO,GAAG,cAAc,GAAG;GACzB,YAAY,EAAE,CAAC,EAAE,MAAM,CAAC,oBAAoB,CAAC;GAC7C,IAAI,EAAE,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC;GACtB,IAAI,EAAE,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC;EACvB,CAAC;;;;;;;CCDF,MAAM,WAAW,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,WAAW,KAAK,KAAK,CAAC,IAAI;GAC9D,MAAM,CAAC,YAAY;GACnBA,WAAE,CAAC,SAAS,CAAC;KACX,KAAK;KACL,QAAQ;KACR,YAAY,EAAE,WAAW;IAC1B,CAAC;EACH,CAAC;;CAEF,MAAM,cAAc,GAAG,CAAC,QAAQ,EAAE,WAAW,KAAK,KAAK,CAAC;GACtD,MAAM,EAAE,KAAK;GACb,GAAG,EAAE,MAAM,CAAC,IAAI;GAChB,OAAO,EAAE;KACP,aAAa,EAAE,WAAW;IAC3B;GACD,IAAI,EAAEA,WAAE,CAAC,SAAS,CAAC;KACjB,SAAS,EAAE,QAAQ;KACnB,IAAI,EAAE,MAAM;IACb,CAAC;EACH,CAAC,CAAC;;CAEH,MAAM,OAAO,GAAG,CAAC,QAAQ,EAAE,WAAW,EAAE,IAAI,KAAK;GAC/C,MAAM;KACJ,IAAI;KACJ,KAAK;IACN,GAAG,IAAI,CAAC;;GAET,OAAO,KAAK,CAAC;KACX,MAAM,EAAE,MAAM;KACd,GAAG,EAAE,MAAM,CAAC,IAAI;KAChB,OAAO,EAAE;OACP,aAAa,EAAE,WAAW;MAC3B;KACD,IAAI,EAAEA,WAAE,CAAC,SAAS,CAAC;OACjB,SAAS,EAAE,QAAQ;OACnB,IAAI;OACJ,KAAK,EAAE,KAAK,IAAI,CAAC;OACjB,cAAc,EAAE,KAAK;MACtB,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;;;;;;;;;CASF,mBAAmB,GAAG,0BAA0B,GAAG,WAAW,CAAC;CAC/D,sBAAsB,GAAG,6BAA6B,GAAG,cAAc,CAAC;CACxE,eAAe,GAAG,sBAAsB,GAAG,OAAO,CAAC;;;;;;;;;;;;;;;;;;;"}